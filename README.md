solution based on Nicolas Morbieu kata : https://github.com/nmorbieu/LegacyRefactoring
